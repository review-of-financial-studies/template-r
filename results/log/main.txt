
> source("code/download_raw_data.R", echo = TRUE)

> unemployment_rate <- read.csv(
+   "https://fred.stlouisfed.org/graph/fredgraph.csv?id=UNRATE"
+ ) |>
+   rename(date = observation_date, unemployme .... [TRUNCATED] 

> write_parquet(unemployment_rate, "data/raw/unemployment_rate.parquet")

> cpi <- read.csv(
+   "https://fred.stlouisfed.org/graph/fredgraph.csv?id=CPIAUCSL"
+ ) |>
+   rename(date = observation_date, cpi = CPIAUCSL) |>
+   .... [TRUNCATED] 

> write_parquet(cpi, "data/raw/cpi.parquet")

> source("code/create_analysis_data.R", echo = TRUE)

> unemployment_rate <- read_parquet("data/raw/unemployment_rate.parquet")

> cpi <- read_parquet("data/raw/cpi.parquet")

> macro_data <- inner_join(unemployment_rate, cpi, by = "date")

> macro_data <- macro_data |>
+   mutate(date = as.Date(date, format = "%Y-%m-%d")) |>
+   arrange(date)

> macro_data <- macro_data |>
+   mutate(date_12mo_ago = date %m-% months(12))

> cpi_lagged <- macro_data |>
+   select(date, cpi) |>
+   rename(date_12mo_ago = date, cpi_12mo_ago = cpi)

> macro_data <- macro_data |>
+   left_join(cpi_lagged, by = "date_12mo_ago") |>
+   mutate(inflation = (cpi - cpi_12mo_ago) / cpi_12mo_ago * 100) |>
 .... [TRUNCATED] 

> write_parquet(macro_data, "data/analysis/macro_data.parquet")

> source("code/analyze_data.R", echo = TRUE)

> macro_data <- read_parquet("data/analysis/macro_data.parquet")

> plot <- ggplot(macro_data, aes(x = inflation, y = unemployment_rate)) +
+   geom_point(color = "blue", size = 1.5, alpha = 0.6) +
+   geom_smooth(me .... [TRUNCATED] 

> ggsave(
+   "results/figures/unemployment_inflation.png",
+   plot = plot,
+   width = 14,
+   height = 8,
+   dpi = 100
+ )

> model <- feols(unemployment_rate ~ inflation, data = macro_data)

> latex_table <- etable(model, tex = TRUE)

> writeLines(latex_table, "results/tables/phillips_regression.tex")

> sink()
